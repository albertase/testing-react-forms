{"ast":null,"code":"import _regeneratorRuntime from\"/home/albert/Desktop/albert.com/the-complete-react/react-form/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/albert/Desktop/albert.com/the-complete-react/react-form/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/albert/Desktop/albert.com/the-complete-react/react-form/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./TestApi.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TestApi=function TestApi(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),full_name=_useState2[0],setFull_name=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var payload,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// Perform form validation\nif(!(!full_name||!email||!message)){_context.next=4;break;}alert('Please fill in all fields');return _context.abrupt(\"return\");case 4:// Create a payload object with form data\npayload={full_name:full_name,email:email,message:message};_context.prev=5;_context.next=8;return fetch('/subscriber/sendmessage',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});case 8:response=_context.sent;_context.next=11;return response.json();case 11:data=_context.sent;// Handle successful form submission\nconsole.log('Form submitted successfully:',data);alert('Form submitted successfully');// Reset form fields\nsetFull_name('');setEmail('');setMessage('');_context.next=23;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](5);// Handle form submission error\nconsole.error('Form submission error:',_context.t0);alert('An error occurred while submitting the form');case 23:case\"end\":return _context.stop();}}},_callee,null,[[5,19]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"test-api-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"full_name\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"full_name\",value:full_name,onChange:function onChange(e){return setFull_name(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",value:message,onChange:function onChange(e){return setMessage(e.target.value);},cols:\"30\",rows:\"10\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]})});};export default TestApi;","map":{"version":3,"names":["React","useState","TestApi","full_name","setFull_name","email","setEmail","message","setMessage","handleSubmit","e","preventDefault","alert","payload","fetch","method","headers","body","JSON","stringify","response","json","data","console","log","error","target","value"],"sources":["/home/albert/Desktop/albert.com/the-complete-react/react-form/src/components/TestApi.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './TestApi.css';\n\nconst TestApi = () => {\n  const [full_name, setFull_name] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Perform form validation\n    if (!full_name || !email || !message) {\n      alert('Please fill in all fields');\n      return;\n    }\n\n    // Create a payload object with form data\n    const payload = {\n     full_name,\n      email,\n      message,\n    };\n\n\n\n    try {\n      // Make a POST request to the endpoint\n      const response = await fetch('/subscriber/sendmessage', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload),\n      });\n\n      const data = await response.json();\n\n      // Handle successful form submission\n      console.log('Form submitted successfully:', data);\n      alert('Form submitted successfully');\n\n      // Reset form fields\n      setFull_name('');\n      setEmail('');\n      setMessage('');\n    } catch (error) {\n      // Handle form submission error\n      console.error('Form submission error:', error);\n      alert('An error occurred while submitting the form');\n    }\n  };\n\n  return (\n    <div>\n      <form className=\"test-api-form\" onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor=\"full_name\">Full Name</label>\n          <input\n            type=\"text\"\n            id=\"full_name\"\n            value={full_name}\n            onChange={(e) => setFull_name(e.target.value)}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"message\">Message</label>\n          <textarea\n            id=\"message\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            cols=\"30\"\n            rows=\"10\"\n          ></textarea>\n        </div>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    </div>\n  );\n};\n\nexport default TestApi;\n"],"mappings":"ycAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,eAAP,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,cAAkCD,QAAQ,CAAC,EAAD,CAA1C,wCAAOE,SAAP,eAAkBC,YAAlB,eACA,eAA0BH,QAAQ,CAAC,EAAD,CAAlC,yCAAOI,KAAP,eAAcC,QAAd,eACA,eAA8BL,QAAQ,CAAC,EAAD,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,aAAY,4FAAG,iBAAOC,CAAP,8IACnBA,CAAC,CAACC,cAAF,GAEA;AAHmB,KAIf,CAACR,SAAD,EAAc,CAACE,KAAf,EAAwB,CAACE,OAJV,0BAKjBK,KAAK,CAAC,2BAAD,CAAL,CALiB,wCASnB;AACMC,OAVa,CAUH,CACfV,SAAS,CAATA,SADe,CAEdE,KAAK,CAALA,KAFc,CAGdE,OAAO,CAAPA,OAHc,CAVG,uCAoBMO,MAAK,CAAC,yBAAD,CAA4B,CACtDC,MAAM,CAAE,MAD8C,CAEtDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF6C,CAKtDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,OAAf,CALgD,CAA5B,CApBX,QAoBXO,QApBW,sCA4BEA,SAAQ,CAACC,IAAT,EA5BF,SA4BXC,IA5BW,eA8BjB;AACAC,OAAO,CAACC,GAAR,CAAY,8BAAZ,CAA4CF,IAA5C,EACAV,KAAK,CAAC,6BAAD,CAAL,CAEA;AACAR,YAAY,CAAC,EAAD,CAAZ,CACAE,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,EAAD,CAAV,CArCiB,iFAuCjB;AACAe,OAAO,CAACE,KAAR,CAAc,wBAAd,cACAb,KAAK,CAAC,6CAAD,CAAL,CAzCiB,qEAAH,kBAAZH,aAAY,4CAAlB,CA6CA,mBACE,kCACE,cAAM,SAAS,CAAC,eAAhB,CAAgC,QAAQ,CAAEA,YAA1C,wBACE,oCACE,cAAO,OAAO,CAAC,WAAf,uBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,WAFL,CAGE,KAAK,CAAEN,SAHT,CAIE,QAAQ,CAAE,kBAACO,CAAD,QAAON,aAAY,CAACM,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAnB,EAJZ,EAFF,GADF,cAUE,oCACE,cAAO,OAAO,CAAC,OAAf,mBADF,cAEE,cACE,IAAI,CAAC,OADP,CAEE,EAAE,CAAC,OAFL,CAGE,KAAK,CAAEtB,KAHT,CAIE,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,SAAQ,CAACI,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAf,EAJZ,EAFF,GAVF,cAmBE,oCACE,cAAO,OAAO,CAAC,SAAf,qBADF,cAEE,iBACE,EAAE,CAAC,SADL,CAEE,KAAK,CAAEpB,OAFT,CAGE,QAAQ,CAAE,kBAACG,CAAD,QAAOF,WAAU,CAACE,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAjB,EAHZ,CAIE,IAAI,CAAC,IAJP,CAKE,IAAI,CAAC,IALP,EAFF,GAnBF,cA6BE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EA7BF,GADF,EADF,CAmCD,CArFD,CAuFA,cAAezB,QAAf"},"metadata":{},"sourceType":"module"}